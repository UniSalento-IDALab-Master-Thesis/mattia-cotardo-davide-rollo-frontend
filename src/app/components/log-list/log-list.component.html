<h1 class="log-title">Logs</h1>

<br>
<br>

<!-- Search Filters -->
<div class="search-filters container mb-3">

    <input [(ngModel)] = "searchedText" name="searchedText"
    #inputText = "ngModel"
    type="text" class="form-control" id="text" placeholder="Text"/>
    
    <div class="mb-3 d-flex align-items-center">
        <label for="startDate" class="mr-3">From:</label>
        <input [(ngModel)]="startDate" name="startDate" #inputStartDate="ngModel" type="date" class="form-control" id="startDate" placeholder="Start Date" onkeydown="return false"/>
    </div>
    <div class="mb-3 d-flex align-items-center">
        <label for="endDate" class="mr-3">To:</label>
        <input [(ngModel)]="endDate" name="endDate" #inputEndDate="ngModel" type="date" class="form-control" id="endDate" placeholder="End Date" onkeydown="return false"/>
    </div>
    
    <button class="btn btn-primary mx-1" (click)="search()">Search</button>
</div>


<div>
    <div class="container mt-5" style="border-radius: 10px; border: 1px solid gray; height: 42vh; width: 80vw; overflow-y: auto;">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Log</th>
                    <th>Timestamp</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let log of logs">
                    <td style="width: 80%; word-wrap: break-word;">{{ log.log }}</td>
                    <td style="width: 20%; word-wrap: break-word;">{{ log.timestamp }}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="container">
        <div style="position: relative; height: 100px;">
            <div style="position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);">
                <button (click)="goToPreviousPage()" [disabled]="currentPage === 1" class="btn btn-primary">
                    &#8592;
                </button>
                <span style="margin: 0 10px;">Page {{ currentPage }}</span>
                <button (click)="goToNextPage()" [disabled]="totalPages" class="btn btn-primary">
                    &#8594;
                </button>
            </div>
            <button class="btn btn-success" style="position: absolute;top: 50%;right: 10px;transform: translateY(-50%);" (click)="exportToCSV()">EXPORT CSV</button>
        </div>
    </div>
    
</div>
